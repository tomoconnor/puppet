
######
# sources

# all known message sources
source s_all {
        # message generated by Syslog-NG
        internal();
        # standard Linux log source (this is the default place for the syslog()
        # function to send logs to)
        unix-stream("/dev/log" max-connections(50));
        # messages from the kernel
        file("/proc/kmsg" log_prefix("kernel: "));
        # use the following line if you want to receive remote UDP logging messages
        # (this is equivalent to the "-r" syslogd flag)
};

source s_remote {
        udp();
        tcp(max-connections(50));
};


# 
# Remote logs
#
destination d_hosts {
  file("/srv/syslog/logs/$HOST/$FACILITY.log"
    owner(root)
    group(root)
    perm(0644)
    dir_perm(0755)
    create_dirs(yes)
  );
};

log {
  source(s_remote);
  source(s_all);
  destination(d_hosts);
};
